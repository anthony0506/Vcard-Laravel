(()=>{listenClick("#addTestimonialBtn",(function(){$("#addTestimonialModal").modal("show")})),listenHiddenBsModal("#addTestimonialModal",(function(){resetModalForm("#addTestimonialForm"),$("#testimonialPreview").attr("src",defaultProfileUrl),$(".cancel-testimonial").hide()})),listenChange("#testimonialImg",(function(){changeImg(this,"#testimonialImgValidation","#testimonialPreview",defaultProfileUrl),$(".cancel-testimonial").show()})),listenHiddenBsModal("#editTestimonialModal",(function(){$(".cancel-edit-testimonial").hide()})),listenClick(".cancel-testimonial",(function(){$("#testimonialPreview").attr("src",defaultProfileUrl)})),listenSubmit("#addTestimonialForm",(function(e){e.preventDefault(),$("#testimonialSave").prop("disabled",!0),$.ajax({url:route("testimonial.store"),type:"POST",data:new FormData(this),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addTestimonialModal").modal("hide"),Livewire.emit("refresh"),$("#testimonialSave").prop("disabled",!1))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#testimonialSave").prop("disabled",!1)}})})),listenClick(".testimonial-edit-btn",(function(t){var i,a=$(t.currentTarget).data("id");i=a,$.ajax({url:route("testimonial.edit",i),type:"GET",success:function(t){t.success&&($("#testimonialId").val(t.data.id),$("#editName").val(t.data.name),$("#editDescription").val(t.data.description),$("#editTestimonialPreview").attr("src",t.data.image_url),$("#editTestimonialModal").modal("show"),e=t.data.image_url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}));var e="";listenChange("#editTestimonialImg",(function(){changeImg(this,"#editTestimonialImgValidation","#editTestimonialPreview",e),$(".cancel-edit-testimonial").show()})),listenClick(".cancel-edit-testimonial",(function(){$("#editTestimonialPreview").attr("src",e)})),listenHiddenBsModal("#showTestimonialModal",(function(){$("#showName,#showDesc").empty(),$("#servicePreview").attr("src",defaultProfileUrl)})),listenSubmit("#editTestimonialForm",(function(e){e.preventDefault();var t=$("#testimonialId").val();$.ajax({url:route("testimonial.update",t),type:"POST",data:new FormData(this),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editTestimonialModal").modal("hide"),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listen("click",".testimonial-delete-btn",(function(e){var t=$(e.currentTarget).data("id"),i=route("testimonial.destroy",{testimonial:t});deleteItem(i,"Vcard Testimonial")})),listenClick(".testimonial-view-btn",(function(e){var t,i=$(e.currentTarget).data("id");t=i,$.ajax({url:route("testimonial.edit",t),type:"GET",success:function(e){if(e.success){$("#showName").append(e.data.name);var t=document.createElement("textarea");t.innerHTML=e.data.description,$("#showDesc").append(t.value),$("#showTestimonialIcon").attr("src",e.data.image_url),$("#showTestimonialModal").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))})();