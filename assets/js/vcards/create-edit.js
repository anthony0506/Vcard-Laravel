(()=>{"use strict";listenChange("#profileImg",(function(){isValidFile($(this),"#profileImageValidationErrors")?displayPhoto(this,"#profilePreview"):$("#profilePreview").attr("src",defaultProfileUrl)})),listenClick(".cancel-profile",(function(){$("#profilePreview").attr("src",defaultProfileUrl)})),listenClick(".cancel-cover",(function(){$("#coverPreview").attr("src",defaultCoverUrl)})),listenChange("#coverImg",(function(){isValidFile($(this),"#coverImageValidationErrors")?displayPhoto(this,"#coverPreview"):$("#coverPreview").attr("src",defaultCoverUrl)})),$("#dob").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date}),listenClick(".img-radio ",(function(){$(".img-radio").removeClass("img-border"),$(this).addClass("img-border"),$("#templateId").val($(this).attr("data-id"))})),listenClick(".template-save",(function(){var e=$("#templateId").val();if(isEmpty(e))return displayErrorMessage("Choose any one template"),!1;$("#editForm")[0].submit()})),listenChange('select[name^="startTime"]',(function(e){var t=$(this)[0].selectedIndex,i=$(this).closest(".buisness_end").find('select[name^="endTime"] option');i.eq(t+1).prop("selected",!0).trigger("change"),i.each((function(e){e<=t?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),isTrue&&$('select[name^="startTime"]').each((function(){var e=$(this)[0].selectedIndex,t=$(this).closest(".buisness_end").find('select[name^="endTime"] option:selected')[0].index,i=$(this).closest(".buisness_end").find('select[name^="endTime"] option');e>=t&&i.eq(e+1).prop("selected",!0).trigger("change"),i.each((function(t){t<=e?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),listenClick(".add-session-time",(function(){var e=0,t=$(this).data("day");$(this).parent().prev().children(".session-times").find(".timeSlot:last-child").length>0&&(e=$(this).parent().prev().children(".session-times").find(".timeSlot:last-child").children(".add-slot").find('select[name^="endTimes"] option:selected')[0].index);var i=$(this).closest(".weekly-content").attr("data-day"),s=$(this),n=$(this).closest(".weekly-content");$.ajax({url:route("get.slot"),data:{day:i},success:function(i){n.find(".unavailable-time").html(""),n.find('input[name="checked_week_days[]"').prop("checked",!0).prop("disabled",!1),s.closest(".weekly-content").find(".session-times").append(i.data),n.find('select[data-control="select2"]').select2(),$("#add-session-"+t).parent().prev().children(".session-times").find(".timeSlot:last-child").children(".add-slot").find('select[name^="startTimes"] option').each((function(t){t<=e?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))}})})),listenClick(".deleteBtn",(function(){var e=0;($(this).closest(".timeSlot").prev().length>0&&(e=$(this).closest(".timeSlot").prev().children(".add-slot").find('select[name^="endTimes"] option:selected')[0].index),2===$(this).closest(".weekly-row").find(".session-times").find("select").length)&&($(this).closest(".weekly-row").find('input[name="checked_week_days[]"').prop("checked",!1).prop("disabled",!0),$(this).closest(".weekly-row").append('<div class="unavailable-time">Unavailable</div>'));$(this).closest(".timeSlot").next().children(".add-slot").find('select[name^="startTimes"] option').each((function(t){t<=e?$(this).attr("disabled",!0):$(this).attr("disabled",!1)})),$(this).parent().siblings(".error-msg").remove(),$(this).parent().closest(".timeSlot").remove(),$(this).parent().remove()})),$('select[name^="startTimes"]').each((function(){var e=$(this)[0].selectedIndex,t=$(this).closest(".add-slot").find('select[name^="endTimes"] option:selected')[0].index,i=$(this).closest(".add-slot").find('select[name^="endTimes"] option');e>=t&&i.eq(e+1).prop("selected",!0).trigger("change"),i.each((function(t){t<=e?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),listenChange('select[name^="startTimes"]',(function(e){var t=$(this)[0].selectedIndex,i=$(this).closest(".add-slot").find('select[name^="endTimes"] option'),s=$(this).closest(".add-slot").find('select[name^="endTimes"] option:selected')[0].index;t>=s&&i.eq(t+1).prop("selected",!0).trigger("change"),i.each((function(e){e<=t?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),$('select[name^="endTimes"]').each((function(){var e=$(this)[0].selectedIndex;$(this).closest(".timeSlot").next().find('select[name^="startTimes"] option').each((function(t){t<=e?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))})),listenChange('select[name^="endTimes"]',(function(e){var t=$(this)[0].selectedIndex;$(this).closest(".timeSlot").next().find('select[name^="startTimes"] option').each((function(e){e<=t?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))}))})();