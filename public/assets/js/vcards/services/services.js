(()=>{listenClick("#addServiceBtn",(function(){$("#addServiceModal").modal("show")})),listenHiddenBsModal("#addServiceModal",(function(){resetModalForm("#addServiceForm"),$("#servicePreview").attr("src",defaultServiceIconUrl),$(".cancel-service").hide()})),listenHiddenBsModal("#showServiceModal",(function(){$("#showName,#showDesc").empty(),$("#servicePreview").attr("src",defaultServiceIconUrl)})),listenHiddenBsModal("#editServiceModal",(function(){$(".cancel-edit-service").hide()})),listenChange("#serviceIcon",(function(){changeImg(this,"#serviceIconValidationErrors","#servicePreview",defaultServiceIconUrl),$(".cancel-service").show()})),listenClick(".cancel-service",(function(){$("#servicePreview").attr("src",defaultServiceIconUrl)})),listenSubmit("#addServiceForm",(function(e){e.preventDefault(),$("#serviceSave").prop("disabled",!0),$.ajax({url:route("vcard.service.store"),type:"POST",data:new FormData(this),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addServiceModal").modal("hide"),Livewire.emit("refresh"),$("#serviceSave").prop("disabled",!1))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#serviceSave").prop("disabled",!1)}})})),listenClick(".edit-btn",(function(i){var r,c=$(i.currentTarget).data("id");r=c,$.ajax({url:route("vcard.service.edit",r),type:"GET",success:function(i){i.success&&($("#serviceId").val(i.data.id),$("#editName").val(i.data.name),$("#editDescription").val(i.data.description),$("#editServicePreview").attr("src",i.data.service_icon),$("#editServiceModal").modal("show"),e=i.data.service_icon)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}));var e="";listenChange("#editServiceIcon",(function(){changeImg(this,"#editServiceIconValidation","#editServicePreview",e),$(".cancel-edit-service").show()})),listenClick(".cancel-edit-service",(function(){$("#editServicePreview").attr("src",e)})),listenSubmit("#editServiceForm",(function(e){e.preventDefault();var i=$("#serviceId").val();$.ajax({url:route("vcard.service.update",i),type:"POST",data:new FormData(this),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editServiceModal").modal("hide"),Livewire.emit("refresh"),$(".cancel-edit-service").hide())},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".delete-btn",(function(e){var i=$(e.currentTarget).data("id");deleteItem(route("vcard.service.destroy",i),vcard_service)})),listenClick(".view-btn",(function(e){var i,r=$(e.currentTarget).data("id");i=r,$.ajax({url:route("vcard.service.edit",i),type:"GET",success:function(e){if(e.success){console.log(e.data.name),$("#showName").append(e.data.name);var i=document.createElement("textarea");i.innerHTML=e.data.description,$("#showDesc").append(i.value),$("#showServiceIcon").attr("src",e.data.service_icon),$("#showServiceModal").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))})();