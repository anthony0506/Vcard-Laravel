$(document).on("select2:open",(function(){document.querySelector(".select2-search__field").focus()})),listenClick("#newStateBtn",(function(){$("#addStateModal").modal("show")})),listenHiddenBsModal("#addStateModal",(function(e){$("#addNewForm")[0].reset(),$("#countryState").val(null).trigger("change")})),listenSubmit("#addNewForm",(function(e){e.preventDefault();var t=route("states.store");$.ajax({url:t,type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addStateModal").modal("hide"),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".state-edit-btn",(function(e){var t,s=$(e.currentTarget).data("id");t=route("states.edit",s),$.ajax({url:t,type:"GET",success:function(e){e.success&&(Livewire.emit("refresh","refresh"),$("#stateId").val(e.data.id),$("#editName").val(e.data.name),$("#editCountryId").val(e.data.country_id).trigger("change"),$("#editStateModal").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenSubmit("#editForm",(function(e){e.preventDefault();var t=$("#stateId").val(),s=route("states.update",t);$.ajax({url:s,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editStateModal").modal("hide"),Livewire.emit("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listen("click",".state-delete-btn",(function(e){var t=$(e.currentTarget).data("id"),s=route("states.destroy",{state:t});deleteItem(s,"State")}));